<div class="login-card
  dark:bg-black/20 backdrop-blur-md border border-white/20 rounded-2xl shadow-xl
    p-8 bg-white/10
  ">
  <h1 class="mb-6 text-center text-2xl font-semibold dark:text-white">Login</h1>

  @if (errorMessage()) {
    <div class="error-message">{{ errorMessage() }}</div>
  }

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div class="form-group my-8 relative overflow-hidden">
      <input
        class="peer text-[1rem] dark:text-white p-3 pt-5"
        id="username"
        type="text"
        placeholder=""
        formControlName="username"
        autocomplete="username"
      />
      <label class="floating-label" for="username">Benutzername</label>
      @if (loginForm.controls.username.touched && loginForm.controls.username.errors) {
        @if (loginForm.controls.username.errors['required']) {
          <span class="field-error">Benutzername ist erforderlich</span>
        } @else if (loginForm.controls.username.errors['minlength']) {
          <span class="field-error">Benutzername muss mindestens 6 Zeichen haben</span>
        }
      }
    </div>

    <div class="form-group my-8 relative overflow-hidden">
      <input
        class="peer text-[1rem] dark:text-white p-3 pt-5"
        id="password"
        type="password"
        formControlName="password"
        autocomplete="current-password"
        placeholder=""
      />
      <label class="floating-label" for="password">Passwort</label>
      @if (loginForm.controls.password.touched && loginForm.controls.password.errors) {
        @if (loginForm.controls.password.errors['required']) {
          <span class="field-error">Passwort ist erforderlich</span>
        } @else if (loginForm.controls.password.errors['minlength']) {
          <span class="field-error">Passwort muss mindestens 7 Zeichen haben</span>
        }
      }
    </div>

    <button
      type="submit"
      [disabled]="loginForm.invalid || isLoading()"
      [class.loading]="isLoading()"
    >
      @if (isLoading()) {
        Wird geladen...
      } @else {
        Anmelden
      }
    </button>
  </form>
</div>
